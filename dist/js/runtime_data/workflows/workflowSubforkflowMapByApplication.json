{"workflows":{"espresso":{"band_gap":{"name":"Band Gap","units":[{"name":"band_gap","type":"subworkflow"}]},"band_gap_dos_hse":{"name":"Band Gap + DoS - HSE","units":[{"name":"band_gap_hse_dos","type":"subworkflow"}]},"band_structure":{"name":"Band Structure","units":[{"name":"band_structure","type":"subworkflow"}]},"band_structure_dos":{"name":"Band Structure + Density of States","units":[{"name":"band_structure_dos","type":"subworkflow"}]},"band_structure_hse":{"name":"Band Structure - HSE","units":[{"name":"pw_scf","type":"subworkflow","config":{"attributes":{"name":"Preliminary SCF Calculation"}}},{"name":"espresso_extract_kpoints","type":"subworkflow"},{"name":"band_structure_hse","type":"subworkflow","config":{"attributes":{"name":"Main HSE Run"}}}]},"band_structure_magn":{"name":"Bandstructure with spin magnetism - QE","units":[{"name":"band_structure_magn","type":"subworkflow","config":{"attributes":{"name":"Bandstructure with spin magnetism"}}}]},"band_structure_soc":{"name":"Bandstructure with SOC - QE","units":[{"name":"band_structure_soc","type":"subworkflow","config":{"attributes":{"name":"Bandstructure with SOC"}}}]},"dielectric_tensor":{"name":"Dielectric Function","units":[{"name":"dielectric_tensor","type":"subworkflow"}]},"dos":{"name":"Density of States","units":[{"name":"dos","type":"subworkflow"}]},"electronic_density_mesh":{"name":"Electronic Density Mesh","units":[{"name":"electronic_density_mesh","type":"subworkflow"}]},"esm":{"name":"Effective Screening Medium (ESM)","units":[{"name":"esm","type":"subworkflow"}]},"esm_relax":{"name":"Effective Screening Medium (ESM) Relax","units":[{"name":"esm_relax","type":"subworkflow"}]},"fixed_cell_relaxation":{"name":"Fixed-cell Relaxation","units":[{"name":"fixed_cell_relaxation","type":"subworkflow"}]},"gw_band_structure_band_gap_full_frequency":{"name":"Full Frequency GW Band Structure + Band Gap","units":[{"name":"gw_band_structure_band_gap_full_frequency","type":"subworkflow"}]},"gw_band_structure_band_gap_plasmon_pole":{"name":"Plasmon-Pole GW Band Structure + Band Gap","units":[{"name":"gw_band_structure_band_gap_plasmon_pole","type":"subworkflow"}]},"kpoint_convergence":{"name":"K-point Convergence","units":[{"name":"kpoint_convergence","type":"subworkflow"}]},"neb":{"name":"Nudged Elastic Band (NEB)","units":[{"name":"neb","type":"subworkflow"}]},"phonon_dispersions":{"name":"Phonon Dispersions","units":[{"name":"phonon_dispersions","type":"subworkflow"}]},"phonon_dos":{"name":"Phonon Density of States","units":[{"name":"phonon_dos","type":"subworkflow"}]},"phonon_dos_dispersion":{"name":"Phonon Density of States + Dispersions","units":[{"name":"phonon_dos_dispersion","type":"subworkflow"}]},"phonon_map":{"name":"Phonon Map","units":[{"name":"phononMap","type":"workflow","units":[{"name":"pw_scf","type":"subworkflow"},{"name":"ph_init_qpoints","type":"subworkflow"},{"name":"espresso_xml_get_qpt_irr","type":"subworkflow"}]},{"config":{"functions":{"setDefaultCompute":null},"input":{"name":"Q_POINTS"},"mapUnit":true},"name":"phonon_map_workflow","type":"workflow","units":[{"name":"pre_processor","type":"subworkflow"},{"name":"ph_single_irr_qpt","type":"subworkflow"},{"name":"post_processor","type":"subworkflow"}]},{"name":"phonon_reduce","type":"subworkflow"}]},"recalculate_bands":{"name":"Recalculate Bands","units":[{"name":"recalculate_bands","type":"subworkflow"}]},"surface_energy":{"name":"Surface Energy","units":[{"name":"surface_energy","type":"subworkflow"}]},"total_energy":{"name":"Total Energy","units":[{"name":"total_energy","type":"subworkflow"}],"tags":["default"]},"valence_band_offset":{"name":"Valence Band Offset (2D)","units":[{"name":"average_electrostatic_potential_via_band_structure","type":"subworkflow","config":{"attributes":{"name":"BS + Avg ESP (Interface)"}},"unitConfigs":[{"index":0,"type":"assignment","config":{"attributes":{"name":"Set Material Index (Interface)","value":"0"}}}]},{"name":"average_electrostatic_potential_find_minima","type":"subworkflow","config":{"attributes":{"name":"Find ESP Values (Interface)"}},"unitConfigs":[{"index":1,"type":"assignment","config":{"attributes":{"operand":"AVG_ESP_INTERFACE"}}}]},{"name":"average_electrostatic_potential_via_band_structure","type":"subworkflow","config":{"attributes":{"name":"BS + Avg ESP (interface left)"}},"unitConfigs":[{"index":0,"type":"assignment","config":{"attributes":{"name":"Set Material Index (Interface left)","value":"1"}}},{"index":2,"type":"executionBuilder","config":{"attributes":{"flowchartId":"pw-bands-calculate-band-gap-left"}}},{"index":3,"type":"assignment","config":{"attributes":{"input":[{"name":"band_gaps","scope":"pw-bands-calculate-band-gap-left"}]}}},{"index":4,"type":"assignment","config":{"attributes":{"operand":"VBM_LEFT"}}},{"index":7,"type":"executionBuilder","config":{"attributes":{"flowchartId":"average-electrostatic-potential-left"}}},{"index":8,"type":"assignment","config":{"attributes":{"input":[{"name":"average_potential_profile","scope":"average-electrostatic-potential-left"}]}}}]},{"name":"average_electrostatic_potential_find_minima","type":"subworkflow","config":{"attributes":{"name":"Find ESP Value (Interface left)"}},"unitConfigs":[{"index":0,"type":"executionBuilder","config":{"attributes":{"flowchartId":"python-find-extrema-left"}}},{"index":1,"type":"assignment","config":{"attributes":{"operand":"AVG_ESP_LEFT","input":[{"name":"STDOUT","scope":"python-find-extrema-left"}]}}}]},{"name":"average_electrostatic_potential_via_band_structure","type":"subworkflow","config":{"attributes":{"name":"BS + Avg ESP (interface right)"}},"unitConfigs":[{"index":0,"type":"assignment","config":{"attributes":{"name":"Set Material Index (Interface right)","value":"2"}}},{"index":2,"type":"executionBuilder","config":{"attributes":{"flowchartId":"pw-bands-calculate-band-gap-right"}}},{"index":3,"type":"assignment","config":{"attributes":{"input":[{"name":"band_gaps","scope":"pw-bands-calculate-band-gap-right"}]}}},{"index":4,"type":"assignment","config":{"attributes":{"operand":"VBM_RIGHT"}}},{"index":7,"type":"executionBuilder","config":{"attributes":{"flowchartId":"average-electrostatic-potential-right"}}},{"index":8,"type":"assignment","config":{"attributes":{"input":[{"name":"average_potential_profile","scope":"average-electrostatic-potential-right"}]}}}]},{"name":"average_electrostatic_potential_find_minima","type":"subworkflow","config":{"attributes":{"name":"Find ESP Value (Interface right)"}},"unitConfigs":[{"index":0,"type":"executionBuilder","config":{"attributes":{"flowchartId":"python-find-extrema-right"}}},{"index":1,"type":"assignment","config":{"attributes":{"operand":"AVG_ESP_RIGHT","input":[{"name":"STDOUT","scope":"python-find-extrema-right"}]}}}]},{"name":"valence_band_offset_calc_from_previous_esp_vbm","type":"subworkflow"}]},"variable_cell_relaxation":{"name":"Variable-cell Relaxation","units":[{"name":"variable_cell_relaxation","type":"subworkflow"}],"tags":["variable-cell_relaxation"]},"zero_point_energy":{"name":"Zero Point Energy","units":[{"name":"zero_point_energy","type":"subworkflow"}]}},"nwchem":{"total_energy":{"name":"Total Energy","units":[{"name":"total_energy","type":"subworkflow"}]}},"python":{"python_script":{"name":"Python Script","units":[{"name":"python_script","type":"subworkflow"}]}},"shell":{"batch_espresso_pwscf":{"name":"Shell Batch Job (Espresso PWSCF)","units":[{"name":"batch_espresso_pwscf","type":"subworkflow"}]},"hello_world":{"name":"Shell Script","units":[{"name":"hello_world","type":"subworkflow"}]}},"vasp":{"band_gap":{"name":"Band Gap","units":[{"name":"band_gap","type":"subworkflow"}]},"band_structure":{"name":"Band Structure","units":[{"name":"band_structure","type":"subworkflow"}]},"band_structure_dos":{"name":"Band Structure + Density of States","units":[{"name":"band_structure_dos","type":"subworkflow"}]},"dos":{"name":"Density of States","units":[{"name":"dos","type":"subworkflow"}]},"fixed_cell_relaxation":{"name":"Fixed-cell Relaxation","units":[{"name":"fixed_cell_relaxation","type":"subworkflow"}]},"kpoint_convergence":{"name":"K-point Convergence","units":[{"name":"kpoint_convergence","type":"subworkflow"}]},"neb":{"name":"Nudged Elastic Band (NEB)","units":[{"name":"initial_final_total_energies","type":"subworkflow"},{"name":"prepare_images","type":"subworkflow"},{"name":"neb_subworkflow","type":"subworkflow"}]},"recalculate_bands":{"name":"Recalculate Bands","units":[{"name":"recalculate_bands","type":"subworkflow"}]},"surface_energy":{"name":"Surface Energy","units":[{"name":"surface_energy","type":"subworkflow"}]},"total_energy":{"name":"Total Energy","units":[{"name":"total_energy","type":"subworkflow"}]},"variable_cell_relaxation":{"name":"Variable-cell Relaxation","units":[{"name":"variable_cell_relaxation","type":"subworkflow"}]},"zero_point_energy":{"name":"Zero Point Energy","units":[{"name":"zero_point_energy","type":"subworkflow"}]}}},"subworkflows":{"espresso":{"average_electrostatic_potential_find_minima":{"application":{"name":"python","version":"3.10.13"},"method":{"name":"UnknownMethod"},"model":{"name":"UnknownModel"},"name":"Find ESP Value","units":[{"config":{"name":"Find Extrema","execName":"python","flavorName":"generic:processing:find_extrema:scipy","flowchartId":"python-find-extrema-right"},"type":"executionBuilder"},{"config":{"name":"Set Average ESP Value","operand":"AVG_ESP_RIGHT","value":"json.loads(STDOUT)['minima']","input":[{"name":"STDOUT","scope":"python-find-extrema-right"}]},"type":"assignment"}],"config":{"attributes":{"name":"Find ESP Value (Interface right)"}}},"average_electrostatic_potential_via_band_structure":{"config":{"isMultiMaterial":true,"attributes":{"name":"BS + Avg ESP (interface right)"}},"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Band Structure + average ESP","units":[{"config":{"name":"Set Material Index (Interface right)","operand":"MATERIAL_INDEX","value":"2"},"type":"assignment"},{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"type":"executionBuilder"},{"config":{"execName":"pw.x","flavorName":"pw_bands","name":"pw_bands","flowchartId":"pw-bands-calculate-band-gap-right"},"type":"executionBuilder","attributes":{"results":[{"name":"band_gaps"}]}},{"config":{"name":"Select indirect band gap","operand":"BAND_GAP_INDIRECT","value":"[bandgap for bandgap in band_gaps['values'] if bandgap['type'] == 'indirect'][0]","input":[{"name":"band_gaps","scope":"pw-bands-calculate-band-gap-right"}]},"type":"assignment"},{"config":{"name":"Set Valence Band Maximum","operand":"VBM_RIGHT","value":"BAND_GAP_INDIRECT['eigenvalueValence']"},"type":"assignment"},{"config":{"execName":"bands.x","flavorName":"bands","name":"bands"},"type":"executionBuilder"},{"config":{"execName":"pp.x","flavorName":"pp_electrostatic_potential","name":"Electrostatic Potential (ESP)"},"type":"executionBuilder"},{"config":{"execName":"average.x","flavorName":"average_potential","name":"average ESP","flowchartId":"average-electrostatic-potential-right"},"type":"executionBuilder"},{"config":{"name":"Set Macroscopically Averaged ESP Data","operand":"array_from_context","value":"average_potential_profile['yDataSeries'][1]","input":[{"name":"average_potential_profile","scope":"average-electrostatic-potential-right"}]},"type":"assignment"}]},"band_gap":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Band Gap","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"functions":{"head":true},"type":"executionBuilder"},{"config":{"execName":"pw.x","flavorName":"pw_nscf","name":"pw_nscf"},"type":"executionBuilder"}],"config":{}},"band_gap_hse_dos":{"name":"HSE Band Gap","application":{"name":"espresso","version":"6.3"},"model":{"name":"DFTModel","config":{"type":"dft","subtype":"hybrid","functional":{"name":"hse06","slug":"hse06"}}},"method":{"name":"PseudopotentialMethod","config":{"type":"pseudopotential","subtype":"us"}},"units":[{"config":{"execName":"pw.x","flavorName":"pw_scf_hse","name":"pw_scf_hse"},"functions":{"head":true},"type":"executionBuilder"},{"config":{"execName":"projwfc.x","flavorName":"projwfc","name":"projwfc"},"type":"executionBuilder"}],"config":{}},"band_structure":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Band Structure","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"functions":{"head":true},"type":"executionBuilder"},{"config":{"execName":"pw.x","flavorName":"pw_bands","name":"pw_bands"},"type":"executionBuilder"},{"config":{"execName":"bands.x","flavorName":"bands","name":"bands"},"type":"executionBuilder"}],"config":{}},"band_structure_dos":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Band Structure + Density of States","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"type":"executionBuilder"},{"config":{"execName":"pw.x","flavorName":"pw_bands","name":"pw_bands"},"type":"executionBuilder"},{"config":{"execName":"bands.x","flavorName":"bands","name":"bands"},"type":"executionBuilder"},{"config":{"execName":"pw.x","flavorName":"pw_nscf","name":"pw_nscf"},"type":"executionBuilder"},{"config":{"execName":"projwfc.x","flavorName":"projwfc","name":"projwfc"},"type":"executionBuilder"}],"config":{}},"band_structure_hse":{"name":"Band Structure - HSE","application":{"name":"espresso","version":"6.3"},"model":{"name":"DFTModel","config":{"type":"dft","subtype":"hybrid","functional":{"name":"hse06","slug":"hse06"}}},"method":{"name":"PseudopotentialMethod","config":{"type":"pseudopotential","subtype":"us"}},"units":[{"config":{"execName":"pw.x","flavorName":"pw_scf_bands_hse","name":"pw_scf_bands_hse"},"type":"executionBuilder"},{"config":{"execName":"bands.x","flavorName":"bands","name":"bands"},"type":"executionBuilder"}],"config":{"attributes":{"name":"Main HSE Run"}}},"band_structure_magn":{"name":"Spin magnetic bandstructure","application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"units":[{"config":{"execName":"pw.x","flavorName":"pw_scf_magn","name":"pw_scf_magn"},"functions":{"head":true},"type":"executionBuilder"},{"config":{"execName":"pw.x","flavorName":"pw_bands_magn","name":"pw_bands_magn"},"type":"executionBuilder"},{"config":{"execName":"bands.x","flavorName":"bands_spin_up","name":"bands_spin_up"},"type":"executionBuilder"},{"config":{"execName":"bands.x","flavorName":"bands_spin_dn","name":"bands_spin_dn"},"type":"executionBuilder"}],"config":{"attributes":{"name":"Bandstructure with spin magnetism"}}},"band_structure_soc":{"name":"Spin orbit coupling bandstructure","application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod","setSearchText":"nc-fr","config":{"type":"pseudopotential","subtype":"nc-fr"}},"model":{"name":"DFTModel"},"units":[{"config":{"execName":"pw.x","flavorName":"pw_scf_soc","name":"pw_scf_soc"},"functions":{"head":true},"type":"executionBuilder"},{"config":{"execName":"pw.x","flavorName":"pw_bands_soc","name":"pw_bands_soc"},"type":"executionBuilder"},{"config":{"execName":"bands.x","flavorName":"bands","name":"bands"},"type":"executionBuilder"}],"config":{"attributes":{"name":"Bandstructure with SOC"}}},"dielectric_tensor":{"application":{"name":"espresso","version":"6.3"},"method":{"config":{"data":{},"subtype":"nc","type":"pseudopotential"},"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Compute Dielectric Function","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"functions":{"head":true},"type":"executionBuilder"},{"config":{"name":"Set No-Symmetry Flag","operand":"NO_SYMMETRY_NO_INVERSION","value":true},"type":"assignment"},{"config":{"execName":"pw.x","flavorName":"pw_nscf","name":"pw_nscf"},"type":"executionBuilder"},{"config":{"execName":"epsilon.x","flavorName":"dielectric_tensor","name":"Compute dielectric function"},"type":"executionBuilder"}],"config":{}},"dos":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Density of States","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"type":"executionBuilder"},{"config":{"execName":"pw.x","flavorName":"pw_nscf","name":"pw_nscf"},"type":"executionBuilder"},{"config":{"execName":"projwfc.x","flavorName":"projwfc","name":"projwfc"},"type":"executionBuilder"}],"config":{}},"electronic_density_mesh":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Electronic Density Mesh","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"type":"executionBuilder"},{"config":{"execName":"pp.x","flavorName":"pp_density","name":"pp_density"},"type":"executionBuilder"}],"config":{}},"esm":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Effective Screening Medium (ESM)","units":[{"config":{"execName":"pw.x","flavorName":"pw_esm","name":"pw_esm"},"type":"executionBuilder"}],"config":{}},"esm_relax":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Effective Screening Medium (ESM) Relax","units":[{"config":{"execName":"pw.x","flavorName":"pw_esm_relax","name":"pw_esm_relax"},"type":"executionBuilder"}],"config":{}},"espresso_extract_kpoints":{"name":"Extract KPOINTS","application":{"name":"python","version":"3.10.13"},"method":{"name":"UnknownMethod"},"model":{"name":"UnknownModel"},"units":[{"config":{"name":"Extract kpoints","execName":"python","flavorName":"espresso_extract_kpoints"},"type":"executionBuilder"}],"config":{}},"espresso_xml_get_qpt_irr":{"application":{"name":"python","version":"3.10.13"},"dynamicSubworkflow":{"name":"getQpointIrrep","subfolder":"espresso"},"method":{"name":"UnknownMethod"},"model":{"name":"UnknownModel"},"name":"espresso-xml-get-qpt-irr","units":[],"config":{}},"fixed_cell_relaxation":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Fixed-cell Relaxation","units":[{"config":{"execName":"pw.x","flavorName":"pw_relax","name":"pw_relax"},"functions":{"head":true},"type":"executionBuilder"}],"config":{}},"gw_band_structure_band_gap_full_frequency":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod","setSearchText":".*dojo-oncv.*"},"model":{"name":"DFTModel"},"name":"Full Frequency GW Band Structure + Band Gap","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"functions":{"head":true},"type":"executionBuilder"},{"config":{"execName":"gw.x","flavorName":"gw_bands_full_frequency","name":"gw_bands_full_frequency"},"type":"executionBuilder"}],"config":{}},"gw_band_structure_band_gap_plasmon_pole":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod","setSearchText":".*dojo-oncv.*"},"model":{"name":"DFTModel"},"name":"Plasmon-Pole GW Band Structure + Band Gap","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"functions":{"head":true},"type":"executionBuilder"},{"config":{"execName":"gw.x","flavorName":"gw_bands_plasmon_pole","name":"gw_bands_plasmon_pole"},"type":"executionBuilder"}],"config":{}},"kpoint_convergence":{"name":"K-point Convergence","application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"units":[{"config":{"name":"Init tolerance","flowchartId":"init-tolerance","operand":"TOL","value":0.00001},"type":"assignment"},{"config":{"name":"Init increment","flowchartId":"init-increment","operand":"INC","value":1},"type":"assignment"},{"config":{"name":"Init result","flowchartId":"init-result","operand":"PREV_RESULT","value":0},"type":"assignment"},{"config":{"name":"Init parameter","flowchartId":"init-parameter","operand":"PARAMETER","value":1},"type":"assignment"},{"config":{"name":"pw_scf_kpt_conv","flowchartId":"pwscf-kpoint-convergence","execName":"pw.x","flavorName":"pw_scf_kpt_conv"},"type":"executionBuilder"},{"config":{"name":"store result","flowchartId":"store-result","operand":"RESULT","value":"total_energy","input":[{"name":"total_energy","scope":"pwscf-kpoint-convergence"}]},"type":"assignment"},{"config":{"name":"check convergence","flowchartId":"check-convergence","statement":"abs((PREV_RESULT-RESULT)/RESULT) < TOL","maxOccurrences":50,"then":"convergence-is-reached","else":"update-result"},"type":"condition"},{"config":{"name":"update result","flowchartId":"update-result","operand":"PREV_RESULT","value":"RESULT","input":[{"name":"RESULT","scope":"global"}]},"type":"assignment"},{"config":{"name":"increment parameter","flowchartId":"increment-parameter","operand":"PREV_RESULT","value":"PARAMETER+INC","input":[{"name":"INC","scope":"global"},{"name":"PARAMETER","scope":"global"}],"next":"pwscf-kpoint-convergence"},"type":"assignment"},{"config":{"name":"exit","flowchartId":"convergence-is-reached","operand":"PARAMETER","value":"PARAMETER","input":[{"name":"PARAMETER","scope":"global"}]},"type":"assignment"}],"config":{}},"neb":{"application":{"name":"espresso","version":"6.3"},"config":{"isMultiMaterial":true},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Nudged Elastic Band (NEB)","units":[{"config":{"execName":"neb.x","flavorName":"neb","name":"neb"},"type":"executionBuilder"}]},"ph_init_qpoints":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"ph-init-qpoints","units":[{"config":{"execName":"ph.x","flavorName":"ph_init_qpoints","name":"ph_init_qpoints"},"type":"executionBuilder"}],"config":{}},"ph_single_irr_qpt":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"ph-single-irr-qpt","units":[{"config":{"execName":"ph.x","flavorName":"ph_single_irr_qpt","name":"ph_single_irr_qpt"},"type":"executionBuilder"}],"config":{}},"phonon_dispersions":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Phonon Dispersions","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"type":"executionBuilder"},{"config":{"execName":"ph.x","flavorName":"ph_grid","name":"ph_grid"},"type":"executionBuilder"},{"config":{"execName":"q2r.x","flavorName":"q2r","name":"q2r"},"type":"executionBuilder"},{"config":{"execName":"matdyn.x","flavorName":"matdyn_path","name":"matdyn_path"},"type":"executionBuilder"}],"config":{}},"phonon_dos":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Phonon Density of States","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"type":"executionBuilder"},{"config":{"execName":"ph.x","flavorName":"ph_grid","name":"ph_grid"},"type":"executionBuilder"},{"config":{"execName":"q2r.x","flavorName":"q2r","name":"q2r"},"type":"executionBuilder"},{"config":{"execName":"matdyn.x","flavorName":"matdyn_grid","name":"matdyn_grid"},"type":"executionBuilder"}],"config":{}},"phonon_dos_dispersion":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Phonon Density of States + Dispersions","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"type":"executionBuilder"},{"config":{"execName":"ph.x","flavorName":"ph_grid","name":"ph_grid"},"type":"executionBuilder"},{"config":{"execName":"q2r.x","flavorName":"q2r","name":"q2r"},"type":"executionBuilder"},{"config":{"execName":"matdyn.x","flavorName":"matdyn_grid","name":"matdyn_grid"},"type":"executionBuilder"},{"config":{"execName":"matdyn.x","flavorName":"matdyn_path","name":"matdyn_path"},"type":"executionBuilder"}],"config":{}},"phonon_reduce":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"reduce","units":[{"config":{"execName":"ph.x","flavorName":"ph_grid_restart","name":"ph_grid_restart"},"type":"executionBuilder"},{"config":{"execName":"q2r.x","flavorName":"q2r","name":"q2r"},"type":"executionBuilder"},{"config":{"execName":"matdyn.x","flavorName":"matdyn_grid","name":"matdyn_grid"},"type":"executionBuilder"},{"config":{"execName":"matdyn.x","flavorName":"matdyn_path","name":"matdyn_path"},"type":"executionBuilder"}],"config":{}},"post_processor":{"application":{"name":"shell","version":"5.1.8"},"method":{"name":"UnknownMethod"},"model":{"name":"UnknownModel"},"name":"post-processor","units":[{"config":{"execName":"sh","flavorName":"espresso_collect_dynmat","name":"shell"},"type":"executionBuilder"}],"config":{}},"pre_processor":{"application":{"name":"shell","version":"5.1.8"},"method":{"name":"UnknownMethod"},"model":{"name":"UnknownModel"},"name":"pre-processor","units":[{"config":{"execName":"sh","flavorName":"espresso_link_outdir_save","name":"shell"},"type":"executionBuilder"}],"config":{}},"pw_scf":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"pw-scf","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"functions":{"head":true},"type":"executionBuilder"}],"config":{"attributes":{"name":"Preliminary SCF Calculation"}}},"recalculate_bands":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Recalculate Bands","units":[{"config":{"execName":"pw.x","flavorName":"pw_bands","name":"pw_bands"},"type":"executionBuilder"},{"config":{"execName":"bands.x","flavorName":"bands","name":"bands"},"type":"executionBuilder"}],"config":{}},"surface_energy":{"application":{"name":"espresso","version":"6.3"},"dynamicSubworkflow":{"name":"surfaceEnergy"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Surface Energy","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"type":"executionBuilder"}],"config":{}},"total_energy":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Total Energy","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"functions":{"head":true},"type":"executionBuilder"}],"tags":["default"],"config":{}},"valence_band_offset_calc_from_previous_esp_vbm":{"application":{"name":"python","version":"3.10.13"},"method":{"name":"UnknownMethod"},"model":{"name":"UnknownModel"},"name":"Calculate VBO","units":[{"config":{"name":"Difference of valence band maxima","operand":"VBM_DIFF","value":"VBM_LEFT - VBM_RIGHT"},"type":"assignment"},{"config":{"name":"Difference of macroscopically averaged ESP in bulk","operand":"AVG_ESP_DIFF","value":"AVG_ESP_LEFT[0] - AVG_ESP_RIGHT[0]"},"type":"assignment"},{"config":{"name":"Lineup of macroscopically averaged ESP in interface","operand":"ESP_LINEUP","value":"np.abs(AVG_ESP_INTERFACE[0] - AVG_ESP_INTERFACE[1])"},"type":"assignment"},{"config":{"name":"Valence Band Offset","operand":"VALENCE_BAND_OFFSET","value":"abs(VBM_DIFF - AVG_ESP_DIFF + (np.sign(AVG_ESP_DIFF) * ESP_LINEUP))","results":[{"name":"valence_band_offset"}]},"type":"assignment"}],"config":{}},"variable_cell_relaxation":{"application":{"name":"espresso","version":"6.3"},"config":{"systemName":"espresso-variable-cell-relaxation"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Variable-cell Relaxation","units":[{"config":{"execName":"pw.x","flavorName":"pw_vc-relax","name":"pw_vc-relax"},"functions":{"head":true},"type":"executionBuilder"}],"tags":["variable-cell_relaxation"]},"zero_point_energy":{"application":{"name":"espresso","version":"6.3"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Zero Point Energy","units":[{"config":{"execName":"pw.x","flavorName":"pw_scf","name":"pw_scf"},"type":"executionBuilder"},{"config":{"execName":"ph.x","flavorName":"ph_gamma","name":"ph_zpe"},"type":"executionBuilder"}],"config":{}}},"nwchem":{"total_energy":{"application":{"name":"nwchem","version":"7.0.2"},"method":{"name":"LocalOrbitalMethod"},"model":{"name":"DFTModel"},"name":"Total Energy","units":[{"config":{"execName":"nwchem","flavorName":"nwchem_total_energy","name":"nwchem_total_energy"},"functions":{"head":true},"type":"executionBuilder"}],"config":{}}},"python":{"python_script":{"application":{"name":"python","version":"3.10.13"},"method":{"name":"UnknownMethod"},"model":{"name":"UnknownModel"},"name":"Python Script","units":[{"config":{"execName":"python","flavorName":"hello_world","name":"python"},"type":"executionBuilder"}],"config":{}}},"shell":{"batch_espresso_pwscf":{"application":{"name":"shell","version":"5.1.8"},"method":{"name":"UnknownMethod"},"model":{"name":"UnknownModel"},"name":"Shell Batch Job (Espresso PWSCF)","units":[{"config":{"execName":"sh","flavorName":"job_espresso_pw_scf","name":"shell"},"type":"executionBuilder"}],"config":{}},"hello_world":{"application":{"name":"shell","version":"5.1.8"},"method":{"name":"UnknownMethod"},"model":{"name":"UnknownModel"},"name":"Shell Hello World","units":[{"config":{"execName":"sh","flavorName":"hello_world","name":"shell"},"type":"executionBuilder"}],"config":{}}},"vasp":{"band_gap":{"application":{"name":"vasp","version":"5.4.4"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Band Gap","units":[{"config":{"execName":"vasp","flavorName":"vasp","name":"vasp"},"functions":{"head":true},"type":"executionBuilder"},{"config":{"execName":"vasp","flavorName":"vasp_nscf","name":"vasp_nscf"},"type":"executionBuilder"}],"config":{}},"band_structure":{"application":{"name":"vasp","version":"5.4.4"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Band Structure","units":[{"config":{"execName":"vasp","flavorName":"vasp","name":"vasp"},"functions":{"head":true},"type":"executionBuilder"},{"config":{"execName":"vasp","flavorName":"vasp_bands","name":"vasp_bands"},"type":"executionBuilder"}],"config":{}},"band_structure_dos":{"application":{"name":"vasp","version":"5.4.4"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Band Structure + Density of States","units":[{"config":{"execName":"vasp","flavorName":"vasp","name":"vasp"},"functions":{"addResults":["density_of_states"],"head":true},"type":"executionBuilder"},{"config":{"execName":"vasp","flavorName":"vasp_bands","name":"vasp_bands"},"type":"executionBuilder"}],"config":{}},"dos":{"application":{"name":"vasp","version":"5.4.4"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Density of States","units":[{"config":{"execName":"vasp","flavorName":"vasp","name":"vasp"},"functions":{"addResults":["density_of_states"],"head":true},"type":"executionBuilder"}],"config":{}},"fixed_cell_relaxation":{"application":{"name":"vasp","version":"5.4.4"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Fixed-cell Relaxation","units":[{"config":{"execName":"vasp","flavorName":"vasp_relax","name":"vasp_relax"},"functions":{"head":true},"type":"executionBuilder"}],"config":{}},"initial_final_total_energies":{"application":{"name":"vasp","version":"5.4.4"},"config":{"isMultiMaterial":true,"functions":{"setDefaultCompute":null}},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Initial/Final Total Energies","units":[{"config":{"execName":"vasp","flavorName":"vasp_neb_initial","name":"vasp_neb_initial"},"functions":{"head":true},"type":"executionBuilder"},{"config":{"execName":"vasp","flavorName":"vasp_neb_final","name":"vasp_neb_final"},"type":"executionBuilder"}]},"kpoint_convergence":{"name":"K-point Convergence","application":{"name":"vasp","version":"5.4.4"},"model":{"name":"DFTModel"},"method":{"config":{"type":"pseudopotential","subtype":"paw"},"name":"PseudopotentialMethod"},"units":[{"config":{"name":"Init tolerance","flowchartId":"init-tolerance","operand":"TOL","value":0.00001},"type":"assignment"},{"config":{"name":"Init increment","flowchartId":"init-increment","operand":"INC","value":1},"type":"assignment"},{"config":{"name":"Init result","flowchartId":"init-result","operand":"PREV_RESULT","value":0},"type":"assignment"},{"config":{"name":"Init parameter","flowchartId":"init-parameter","operand":"PARAMETER","value":1},"type":"assignment"},{"config":{"name":"vasp_kpt_conv","flowchartId":"vasp-kpoint-convergence","execName":"vasp","flavorName":"vasp_kpt_conv"},"type":"executionBuilder"},{"config":{"name":"store result","flowchartId":"store-result","operand":"RESULT","value":"total_energy","input":[{"name":"total_energy","scope":"vasp-kpoint-convergence"}]},"type":"assignment"},{"config":{"name":"check convergence","flowchartId":"check-convergence","statement":"abs((PREV_RESULT-RESULT)/RESULT) < TOL","maxOccurrences":50,"then":"convergence-is-reached","else":"update-result"},"type":"condition"},{"config":{"name":"update result","flowchartId":"update-result","operand":"PREV_RESULT","value":"RESULT","input":[{"name":"RESULT","scope":"global"}]},"type":"assignment"},{"config":{"name":"increment parameter","flowchartId":"increment-parameter","operand":"PREV_RESULT","value":"PARAMETER+INC","input":[{"name":"INC","scope":"global"},{"name":"PARAMETER","scope":"global"}],"next":"vasp-kpoint-convergence"},"type":"assignment"},{"config":{"name":"exit","flowchartId":"convergence-is-reached","operand":"PARAMETER","value":"PARAMETER","input":[{"name":"PARAMETER","scope":"global"}]},"type":"assignment"}],"config":{}},"neb_subworkflow":{"application":{"name":"vasp","version":"5.4.4"},"config":{"isMultiMaterial":true},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Nudged Elastic Band (NEB)","units":[{"config":{"execName":"vasp","flavorName":"vasp_neb","name":"vasp_neb"},"type":"executionBuilder"}]},"prepare_images":{"application":{"name":"shell","version":"5.1.8"},"config":{"isMultiMaterial":true},"method":{"name":"Method"},"model":{"name":"Model"},"name":"Prepare Directories","units":[{"config":{"execName":"sh","flavorName":"bash_vasp_prepare_neb_images","name":"prepare-neb-images"},"type":"executionBuilder"}]},"recalculate_bands":{"application":{"name":"vasp","version":"5.4.4"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Recalculate Bands","units":[{"config":{"execName":"vasp","flavorName":"vasp_bands","name":"vasp_bands"},"functions":{"head":true},"type":"executionBuilder"}],"config":{}},"surface_energy":{"application":{"name":"vasp","version":"5.4.4"},"dynamicSubworkflow":{"name":"surfaceEnergy"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Surface Energy","units":[{"config":{"execName":"vasp","flavorName":"vasp_symprec","name":"vasp_symprec"},"functions":{"head":true},"type":"executionBuilder"}],"config":{}},"total_energy":{"application":{"name":"vasp","version":"5.4.4"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Total Energy","units":[{"config":{"execName":"vasp","flavorName":"vasp","name":"vasp"},"functions":{"head":true},"type":"executionBuilder"}],"config":{}},"variable_cell_relaxation":{"application":{"name":"vasp","version":"5.4.4"},"config":{"systemName":"vasp-variable-cell-relaxation"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Variable-cell Relaxation","units":[{"config":{"execName":"vasp","flavorName":"vasp_vc_relax","name":"vasp_vc_relax"},"functions":{"head":true},"type":"executionBuilder"}]},"zero_point_energy":{"application":{"name":"vasp","version":"5.4.4"},"method":{"name":"PseudopotentialMethod"},"model":{"name":"DFTModel"},"name":"Zero Point Energy","units":[{"config":{"execName":"vasp","flavorName":"vasp_zpe","name":"vasp_zpe"},"functions":{"head":true},"type":"executionBuilder"}],"config":{}}}}}
