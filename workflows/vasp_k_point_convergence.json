{
  "name": "K-point Convergence",
  "subworkflows": [
    {
      "_id": "e7ef80e6-0000-0000-0000-000000000000",
      "name": "K-point Convergence",
      "application": {
        "name": "vasp",
        "shortName": "vasp",
        "summary": "Vienna Ab-initio Simulation Package",
        "isLicensed": true,
        "build": "Default",
        "version": "5.4.4",
        "isDefault": true
      },
      "properties": [
        "total_energy",
        "total_energy_contributions",
        "pressure",
        "fermi_energy",
        "atomic_forces",
        "total_force",
        "stress_tensor"
      ],
      "model": {
        "type": "dft",
        "subtype": "gga",
        "method": {
          "type": "pseudopotential",
          "subtype": "paw",
          "data": {}
        },
        "functional": {
          "slug": "pbe"
        },
        "refiners": [],
        "modifiers": []
      },
      "units": [
        {
          "name": "Init tolerance",
          "type": "assignment",
          "operand": "TOL",
          "value": 0.00001,
          "input": [],
          "flowchartId": "e7ef80e6-0000-0000-0000-000000000000",
          "status": "idle",
          "statusTrack": [],
          "tags": [],
          "head": true,
          "next": "init-increment",
          "application": {
            "name": "vasp",
            "shortName": "vasp",
            "summary": "Vienna Ab-initio Simulation Package",
            "isLicensed": true,
            "build": "Default",
            "version": "5.4.4",
            "isDefault": true
          }
        },
        {
          "name": "Init increment",
          "type": "assignment",
          "operand": "INC",
          "value": 1,
          "input": [],
          "flowchartId": "e7ef80e6-0000-0000-0000-000000000000",
          "status": "idle",
          "statusTrack": [],
          "tags": [],
          "head": false,
          "next": "init-result",
          "application": {
            "name": "vasp",
            "shortName": "vasp",
            "summary": "Vienna Ab-initio Simulation Package",
            "isLicensed": true,
            "build": "Default",
            "version": "5.4.4",
            "isDefault": true
          }
        },
        {
          "name": "Init result",
          "type": "assignment",
          "operand": "PREV_RESULT",
          "value": 0,
          "input": [],
          "flowchartId": "e7ef80e6-0000-0000-0000-000000000000",
          "status": "idle",
          "statusTrack": [],
          "tags": [],
          "head": false,
          "next": "init-parameter",
          "application": {
            "name": "vasp",
            "shortName": "vasp",
            "summary": "Vienna Ab-initio Simulation Package",
            "isLicensed": true,
            "build": "Default",
            "version": "5.4.4",
            "isDefault": true
          }
        },
        {
          "name": "Init parameter",
          "type": "assignment",
          "operand": "PARAMETER",
          "value": 1,
          "input": [],
          "flowchartId": "e7ef80e6-0000-0000-0000-000000000000",
          "status": "idle",
          "statusTrack": [],
          "tags": [],
          "head": false,
          "next": "vasp-kpoint-convergence",
          "application": {
            "name": "vasp",
            "shortName": "vasp",
            "summary": "Vienna Ab-initio Simulation Package",
            "isLicensed": true,
            "build": "Default",
            "version": "5.4.4",
            "isDefault": true
          }
        },
        {
          "type": "execution",
          "name": "vasp_kpt_conv",
          "head": false,
          "results": [
            {
              "name": "total_energy"
            },
            {
              "name": "total_energy_contributions"
            },
            {
              "name": "pressure"
            },
            {
              "name": "fermi_energy"
            },
            {
              "name": "atomic_forces"
            },
            {
              "name": "total_force"
            },
            {
              "name": "stress_tensor"
            }
          ],
          "monitors": [
            {
              "name": "standard_output"
            },
            {
              "name": "convergence_electronic"
            }
          ],
          "flowchartId": "e7ef80e6-0000-0000-0000-000000000000",
          "preProcessors": [],
          "postProcessors": [],
          "application": {
            "name": "vasp",
            "shortName": "vasp",
            "summary": "Vienna Ab-initio Simulation Package",
            "isLicensed": true,
            "build": "Default",
            "version": "5.4.4",
            "isDefault": true
          },
          "executable": {
            "isDefault": true,
            "postProcessors": [
              "error_handler",
              "prepare_restart",
              "remove_non_zero_weight_kpoints"
            ],
            "monitors": [
              "standard_output",
              "convergence_ionic",
              "convergence_electronic"
            ],
            "results": [
              "atomic_forces",
              "band_gaps",
              "band_structure",
              "density_of_states",
              "fermi_energy",
              "pressure",
              "stress_tensor",
              "total_energy",
              "total_energy_contributions",
              "total_force",
              "zero_point_energy",
              "final_structure",
              "magnetic_moments",
              "reaction_energy_barrier",
              "reaction_energy_profile",
              "potential_profile",
              "charge_density_profile"
            ],
            "flavors": {
              "vasp": {
                "isDefault": true,
                "input": [
                  {
                    "name": "INCAR"
                  },
                  {
                    "name": "KPOINTS"
                  },
                  {
                    "name": "POSCAR"
                  }
                ],
                "results": [
                  "total_energy",
                  "total_energy_contributions",
                  "pressure",
                  "fermi_energy",
                  "atomic_forces",
                  "total_force",
                  "stress_tensor"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_symprec": {
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_SYMPREC"
                  },
                  {
                    "name": "KPOINTS"
                  },
                  {
                    "name": "POSCAR"
                  }
                ],
                "results": [
                  "total_energy",
                  "total_energy_contributions",
                  "pressure",
                  "fermi_energy",
                  "atomic_forces",
                  "total_force",
                  "stress_tensor"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_bands": {
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_BANDS"
                  },
                  {
                    "name": "KPOINTS",
                    "templateName": "KPOINTS_BANDS"
                  },
                  {
                    "name": "POSCAR",
                    "templateName": ""
                  }
                ],
                "results": [
                  "band_structure"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_nscf": {
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_BANDS"
                  },
                  {
                    "name": "KPOINTS",
                    "templateName": "KPOINTS"
                  },
                  {
                    "name": "POSCAR",
                    "templateName": "POSCAR"
                  }
                ],
                "results": [
                  "band_gaps",
                  "fermi_energy"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_hse": {
                "isDefault": false,
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_HSE"
                  },
                  {
                    "name": "KPOINTS"
                  },
                  {
                    "name": "POSCAR"
                  }
                ],
                "results": [
                  "total_energy",
                  "total_energy_contributions",
                  "pressure",
                  "fermi_energy",
                  "atomic_forces",
                  "total_force",
                  "stress_tensor"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_bands_hse": {
                "isDefault": false,
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_BANDS_HSE"
                  },
                  {
                    "name": "KPOINTS",
                    "templateName": "KPOINTS_BANDS"
                  },
                  {
                    "name": "POSCAR",
                    "templateName": ""
                  }
                ],
                "results": [
                  "band_structure"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_nscf_hse": {
                "isDefault": false,
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_BANDS_HSE"
                  },
                  {
                    "name": "KPOINTS",
                    "templateName": "KPOINTS"
                  },
                  {
                    "name": "POSCAR",
                    "templateName": "POSCAR"
                  }
                ],
                "results": [
                  "band_gaps",
                  "fermi_energy"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_relax": {
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_RELAX"
                  },
                  {
                    "name": "KPOINTS",
                    "templateName": "KPOINTS"
                  },
                  {
                    "name": "POSCAR",
                    "templateName": "POSCAR"
                  }
                ],
                "results": [
                  "total_energy",
                  "atomic_forces",
                  "fermi_energy",
                  "pressure",
                  "stress_tensor",
                  "total_force",
                  "final_structure"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic",
                  "convergence_ionic"
                ],
                "postProcessors": [
                  "prepare_restart"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_vc_relax": {
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_VC_RELAX"
                  },
                  {
                    "name": "KPOINTS",
                    "templateName": "KPOINTS"
                  },
                  {
                    "name": "POSCAR",
                    "templateName": "POSCAR"
                  }
                ],
                "results": [
                  "total_energy",
                  "atomic_forces",
                  "fermi_energy",
                  "pressure",
                  "stress_tensor",
                  "total_force",
                  "final_structure"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic",
                  "convergence_ionic"
                ],
                "postProcessors": [
                  "prepare_restart"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_zpe": {
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_ZPE"
                  },
                  {
                    "name": "KPOINTS",
                    "templateName": "KPOINTS"
                  },
                  {
                    "name": "POSCAR",
                    "templateName": "POSCAR"
                  }
                ],
                "results": [
                  "total_energy",
                  "fermi_energy",
                  "pressure",
                  "atomic_forces",
                  "stress_tensor",
                  "total_force",
                  "zero_point_energy"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic",
                  "convergence_ionic"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_kpt_conv": {
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR"
                  },
                  {
                    "name": "KPOINTS",
                    "templateName": "KPOINTS_CONV"
                  },
                  {
                    "name": "POSCAR",
                    "templateName": "POSCAR"
                  }
                ],
                "results": [
                  "total_energy",
                  "total_energy_contributions",
                  "pressure",
                  "fermi_energy",
                  "atomic_forces",
                  "total_force",
                  "stress_tensor"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_vc_relax_conv": {
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_VC_RELAX"
                  },
                  {
                    "name": "KPOINTS",
                    "templateName": "KPOINTS_CONV"
                  },
                  {
                    "name": "POSCAR",
                    "templateName": "POSCAR"
                  }
                ],
                "results": [
                  "total_energy",
                  "total_energy_contributions",
                  "pressure",
                  "fermi_energy",
                  "atomic_forces",
                  "total_force",
                  "stress_tensor"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic",
                  "convergence_ionic"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_neb": {
                "isMultiMaterial": true,
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_NEB"
                  },
                  {
                    "name": "KPOINTS",
                    "templateName": "KPOINTS"
                  }
                ],
                "results": [
                  "reaction_energy_barrier",
                  "reaction_energy_profile"
                ],
                "monitors": [
                  "standard_output"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_neb_initial": {
                "isMultiMaterial": true,
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_NEB_INITIAL_FINAL"
                  },
                  {
                    "name": "KPOINTS"
                  },
                  {
                    "name": "POSCAR",
                    "templateName": "POSCAR_NEB_INITIAL"
                  }
                ],
                "results": [
                  "total_energy",
                  "total_energy_contributions",
                  "pressure",
                  "fermi_energy",
                  "atomic_forces",
                  "total_force",
                  "stress_tensor"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              },
              "vasp_neb_final": {
                "isMultiMaterial": true,
                "input": [
                  {
                    "name": "INCAR",
                    "templateName": "INCAR_NEB_INITIAL_FINAL"
                  },
                  {
                    "name": "KPOINTS"
                  },
                  {
                    "name": "POSCAR",
                    "templateName": "POSCAR_NEB_FINAL"
                  }
                ],
                "results": [
                  "total_energy",
                  "total_energy_contributions",
                  "pressure",
                  "fermi_energy",
                  "atomic_forces",
                  "total_force",
                  "stress_tensor"
                ],
                "monitors": [
                  "standard_output",
                  "convergence_electronic"
                ],
                "applicationName": "vasp",
                "executableName": "vasp"
              }
            },
            "name": "vasp"
          },
          "flavor": {
            "input": [
              {
                "name": "INCAR",
                "templateName": "INCAR"
              },
              {
                "name": "KPOINTS",
                "templateName": "KPOINTS_CONV"
              },
              {
                "name": "POSCAR",
                "templateName": "POSCAR"
              }
            ],
            "results": [
              "total_energy",
              "total_energy_contributions",
              "pressure",
              "fermi_energy",
              "atomic_forces",
              "total_force",
              "stress_tensor"
            ],
            "monitors": [
              "standard_output",
              "convergence_electronic"
            ],
            "applicationName": "vasp",
            "executableName": "vasp",
            "name": "vasp_kpt_conv"
          },
          "status": "idle",
          "statusTrack": [],
          "tags": [],
          "input": [
            {
              "content": "ISMEAR = 0\nSIGMA  = 0.05\nLORBIT = 11\n",
              "name": "INCAR",
              "contextProviders": [
                {
                  "name": "VASPInputDataManager"
                }
              ],
              "applicationName": "vasp",
              "executableName": "vasp",
              "rendered": "ISMEAR = 0\nSIGMA  = 0.05\nLORBIT = 11\n"
            },
            {
              "content": "Automatic Mesh\n0\nGamma\n{% raw %}{{PARAMETER | default('1')}} {{PARAMETER | default('1')}} {{PARAMETER | default('1')}}{% endraw %}\n0 0 0\n",
              "name": "KPOINTS",
              "contextProviders": [
                {
                  "name": "KGridFormDataManager"
                },
                {
                  "name": "VASPInputDataManager"
                }
              ],
              "applicationName": "vasp",
              "executableName": "vasp",
              "rendered": "Automatic Mesh\n0\nGamma\n{{PARAMETER | default('1')}} {{PARAMETER | default('1')}} {{PARAMETER | default('1')}}\n0 0 0\n"
            },
            {
              "content": "{{ input.POSCAR }}\n",
              "name": "POSCAR",
              "contextProviders": [
                {
                  "name": "VASPInputDataManager"
                }
              ],
              "applicationName": "vasp",
              "executableName": "vasp",
              "rendered": "Silicon FCC\n1.0\n   3.348920000\t   0.000000000\t   1.933500000\n   1.116307000\t   3.157392000\t   1.933500000\n   0.000000000\t   0.000000000\t   3.867000000\nSi\n2\ndirect\n   0.000000000    0.000000000    0.000000000  Si\n   0.250000000    0.250000000    0.250000000  Si\n"
            }
          ],
          "next": "store-result"
        },
        {
          "name": "store result",
          "type": "assignment",
          "operand": "RESULT",
          "value": "total_energy",
          "input": [
            {
              "name": "total_energy",
              "scope": "vasp-kpoint-convergence"
            }
          ],
          "flowchartId": "e7ef80e6-0000-0000-0000-000000000000",
          "status": "idle",
          "statusTrack": [],
          "tags": [],
          "head": false,
          "next": "check-convergence",
          "application": {
            "name": "vasp",
            "shortName": "vasp",
            "summary": "Vienna Ab-initio Simulation Package",
            "isLicensed": true,
            "build": "Default",
            "version": "5.4.4",
            "isDefault": true
          }
        },
        {
          "name": "check convergence",
          "type": "condition",
          "input": [],
          "results": [],
          "preProcessors": [],
          "postProcessors": [],
          "then": "convergence-is-reached",
          "else": "update-result",
          "statement": "abs((PREV_RESULT-RESULT)/RESULT) < TOL",
          "maxOccurrences": 50,
          "flowchartId": "e7ef80e6-0000-0000-0000-000000000000",
          "status": "idle",
          "statusTrack": [],
          "tags": [],
          "head": false,
          "next": "update-result",
          "application": {
            "name": "vasp",
            "shortName": "vasp",
            "summary": "Vienna Ab-initio Simulation Package",
            "isLicensed": true,
            "build": "Default",
            "version": "5.4.4",
            "isDefault": true
          }
        },
        {
          "name": "update result",
          "type": "assignment",
          "operand": "PREV_RESULT",
          "value": "RESULT",
          "input": [
            {
              "name": "RESULT",
              "scope": "global"
            }
          ],
          "flowchartId": "e7ef80e6-0000-0000-0000-000000000000",
          "status": "idle",
          "statusTrack": [],
          "tags": [],
          "head": false,
          "next": "increment-parameter",
          "application": {
            "name": "vasp",
            "shortName": "vasp",
            "summary": "Vienna Ab-initio Simulation Package",
            "isLicensed": true,
            "build": "Default",
            "version": "5.4.4",
            "isDefault": true
          }
        },
        {
          "name": "increment parameter",
          "type": "assignment",
          "operand": "PREV_RESULT",
          "value": "PARAMETER+INC",
          "input": [
            {
              "name": "INC",
              "scope": "global"
            },
            {
              "name": "PARAMETER",
              "scope": "global"
            }
          ],
          "flowchartId": "e7ef80e6-0000-0000-0000-000000000000",
          "next": "vasp-kpoint-convergence",
          "status": "idle",
          "statusTrack": [],
          "tags": [],
          "head": false,
          "application": {
            "name": "vasp",
            "shortName": "vasp",
            "summary": "Vienna Ab-initio Simulation Package",
            "isLicensed": true,
            "build": "Default",
            "version": "5.4.4",
            "isDefault": true
          }
        },
        {
          "name": "exit",
          "type": "assignment",
          "operand": "PARAMETER",
          "value": "PARAMETER",
          "input": [
            {
              "name": "PARAMETER",
              "scope": "global"
            }
          ],
          "flowchartId": "e7ef80e6-0000-0000-0000-000000000000",
          "status": "idle",
          "statusTrack": [],
          "tags": [],
          "head": false,
          "application": {
            "name": "vasp",
            "shortName": "vasp",
            "summary": "Vienna Ab-initio Simulation Package",
            "isLicensed": true,
            "build": "Default",
            "version": "5.4.4",
            "isDefault": true
          }
        }
      ]
    }
  ],
  "units": [
    {
      "name": "K-point Convergence",
      "type": "subworkflow",
      "_id": "e7ef80e6-0000-0000-0000-000000000000",
      "status": "idle",
      "statusTrack": [],
      "flowchartId": "e7ef80e6-0000-0000-0000-000000000000",
      "tags": [],
      "head": true
    }
  ],
  "properties": [
    "total_energy",
    "total_energy_contributions",
    "pressure",
    "fermi_energy",
    "atomic_forces",
    "total_force",
    "stress_tensor"
  ],
  "workflows": []
}